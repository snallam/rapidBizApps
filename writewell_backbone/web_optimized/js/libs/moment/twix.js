(function(){var r,t,e=[].slice,n=[].indexOf||function(r){for(var t=0,e=this.length;e>t;t++)if(t in this&&this[t]===r)return t;return-1};r="undefined"!=typeof module&&null!==module&&null!=module.exports,t=function(t){var a,i,o;if(null==t)throw"Can't find moment";return o=["en"],a=function(){function a(r,e,n){this.start=t(r),this.end=t(e),this.allDay=n||!1}return a._extend=function(){var t,a,r,o,n,i;for(a=arguments[0],o=arguments.length>=2?e.call(arguments,1):[],n=0,i=o.length;i>n;n++){r=o[n];for(t in r)void 0!==r[t]&&(a[t]=r[t])}return a},a.defaults={twentyFourHour:!1,allDaySimple:{fn:function(t){return function(){return t.allDay}},slot:0,pre:" "},dayOfWeek:{fn:function(t){return function(r){return r.format(t.weekdayFormat)}},slot:1,pre:" "},allDayMonth:{fn:function(t){return function(r){return r.format(""+t.monthFormat+" "+t.dayFormat)}},slot:2,pre:" "},month:{fn:function(t){return function(r){return r.format(t.monthFormat)}},slot:2,pre:" "},date:{fn:function(t){return function(r){return r.format(t.dayFormat)}},slot:3,pre:" "},year:{fn:function(t){return function(r){return r.format(t.yearFormat)}},slot:4,pre:", "},time:{fn:function(t){return function(e){var r;return r=e.format(0===e.minutes()&&t.implicitMinutes&&!t.twentyFourHour?t.hourFormat:""+t.hourFormat+":"+t.minuteFormat),t.groupMeridiems||t.twentyFourHour||(t.spaceBeforeMeridiem&&(r+=" "),r+=e.format(t.meridiemFormat)),r}},slot:5,pre:", "},meridiem:{fn:function(t){return function(r){return r.format(t.meridiemFormat)}},slot:6,pre:function(t){return t.spaceBeforeMeridiem?" ":""}}},a.registerLang=function(r,e){return t.lang(r,{twix:a._extend({},a.defaults,e)})},a.prototype.isSame=function(t){return this.start.isSame(this.end,t)},a.prototype.length=function(t){return this._trueEnd().add(1,"millisecond").diff(this._trueStart(),t)},a.prototype.count=function(t){var r,e;return e=this.start.clone().startOf(t),r=this.end.clone().startOf(t),r.diff(e,t)+1},a.prototype.countInner=function(n){var t,r,e;return e=this._inner(n),r=e[0],t=e[1],r>=t?0:t.diff(r,n)},a.prototype.iterate=function(r,n){var e,a,t,o=this;return t=this.start.clone().startOf(r),e=this.end.clone().startOf(r),a=function(){return e>=t&&(!n||t.valueOf()!==e.valueOf()||o.end.hours()>n||o.allDay)},this._iterateHelper(r,t,a)},a.prototype.iterateInner=function(e){var n,a,t,r;return r=this._inner(e),t=r[0],n=r[1],a=function(){return n>t},this._iterateHelper(e,t,a)},a.prototype.humanizeLength=function(){return this.allDay?this.isSame("day")?"all day":this.start.from(this.end.clone().add(1,"day"),!0):this.start.from(this.end,!0)},a.prototype.asDuration=function(){var r;return r=this.end.diff(this.start),t.duration(r)},a.prototype.isPast=function(){return this.allDay?this.end.clone().endOf("day")<t():this.end<t()},a.prototype.isFuture=function(){return this.allDay?this.start.clone().startOf("day")>t():this.start>t()},a.prototype.isCurrent=function(){return!this.isPast()&&!this.isFuture()},a.prototype.contains=function(r){return r=t(r),this._trueStart()<=r&&this._trueEnd()>=r},a.prototype.overlaps=function(t){return this._trueEnd().isAfter(t._trueStart())&&this._trueStart().isBefore(t._trueEnd())},a.prototype.engulfs=function(t){return this._trueStart()<=t._trueStart()&&this._trueEnd()>=t._trueEnd()},a.prototype.union=function(t){var r,e,n;return r=this.allDay&&t.allDay,r?(n=t.start>this.start?this.start:t.start,e=this.end>t.end?this.end:t.end):(n=this._trueStart()<t._trueStart()?this._trueStart():t._trueStart(),e=this._trueEnd()>t._trueEnd()?this._trueEnd():t._trueEnd()),new a(n,e,r)},a.prototype.intersection=function(r){var o,e,n,i;return i=this.start>r.start?this.start:r.start,this.allDay?(e=t(this.end),e.add(1,"day"),e.subtract(1,"millisecond"),n=r.allDay?r.end>e?this.end:r.end:r.end>e?e:r.end):n=r.end>this.end?this.end:r.end,o=this.allDay&&r.allDay,new a(i,n,o)},a.prototype.isValid=function(){return this._trueStart()<=this._trueEnd()},a.prototype.equals=function(t){return t instanceof a&&this.allDay===t.allDay&&this.start.valueOf()===t.start.valueOf()&&this.end.valueOf()===t.end.valueOf()},a.prototype.toString=function(){var t;return"{start: "+this.start.format()+", end: "+this.end.format()+", allDay: "+(null!=(t=this.allDay)?t:{"true":"false"})+"}"},a.prototype.simpleFormat=function(e,n){var t,r;return t={allDay:"(all day)"},a._extend(t,n||{}),r=""+this.start.format(e)+" - "+this.end.format(e),this.allDay&&t.allDay&&(r+=" "+t.allDay),r},a.prototype.format=function(_){var s,u,h,m,e,l,d,n,r,c,f,i,o,y,p=this;for(this._lazyLang(),r={groupMeridiems:!0,spaceBeforeMeridiem:!0,showDate:!0,showDayOfWeek:!1,twentyFourHour:this.langData.twentyFourHour,implicitMinutes:!0,implicitYear:!0,yearFormat:"YYYY",monthFormat:"MMM",weekdayFormat:"ddd",dayFormat:"D",meridiemFormat:"A",hourFormat:"h",minuteFormat:"mm",allDay:"all day",explicitAllDay:!1,lastNightEndsAt:0},a._extend(r,_||{}),e=[],r.twentyFourHour&&(r.hourFormat=r.hourFormat.replace("h","H")),d=r.lastNightEndsAt>0&&!this.allDay&&this.end.clone().startOf("day").valueOf()===this.start.clone().add(1,"day").startOf("day").valueOf()&&this.start.hours()>12&&this.end.hours()<r.lastNightEndsAt,n=r.showDate||!this.isSame("day")&&!d,this.allDay&&this.isSame("day")&&(!r.showDate||r.explicitAllDay)&&e.push({name:"all day simple",fn:this._formatFn("allDaySimple",r),pre:this._formatPre("allDaySimple",r),slot:this._formatSlot("allDaySimple")}),!n||r.implicitYear&&this.start.year()===t().year()&&this.isSame("year")||e.push({name:"year",fn:this._formatFn("year",r),pre:this._formatPre("year",r),slot:this._formatSlot("year")}),!this.allDay&&n&&e.push({name:"all day month",fn:this._formatFn("allDayMonth",r),ignoreEnd:function(){return d},pre:this._formatPre("allDayMonth",r),slot:this._formatSlot("allDayMonth")}),this.allDay&&n&&e.push({name:"month",fn:this._formatFn("month",r),pre:this._formatPre("month",r),slot:this._formatSlot("month")}),this.allDay&&n&&e.push({name:"date",fn:this._formatFn("date",r),pre:this._formatPre("date",r),slot:this._formatSlot("date")}),n&&r.showDayOfWeek&&e.push({name:"day of week",fn:this._formatFn("dayOfWeek",r),pre:this._formatPre("dayOfWeek",r),slot:this._formatSlot("dayOfWeek")}),!r.groupMeridiems||r.twentyFourHour||this.allDay||e.push({name:"meridiem",fn:this._formatFn("meridiem",r),pre:this._formatPre("meridiem",r),slot:this._formatSlot("meridiem")}),this.allDay||e.push({name:"time",fn:this._formatFn("time",r),pre:this._formatPre("time",r),slot:this._formatSlot("time")}),f=[],u=[],s=[],i=!0,c=function(t){var e,n,r;return r=t.fn(p.start),e=t.ignoreEnd&&t.ignoreEnd()?r:t.fn(p.end),n={format:t,value:function(){return r}},e===r&&i?s.push(n):(i&&(i=!1,s.push({format:{slot:t.slot,pre:""},value:function(){return""+h(f)+" -"+h(u,!0)}})),f.push(n),u.push({format:t,value:function(){return e}}))},o=0,y=e.length;y>o;o++)m=e[o],c(m);return l=!0,(h=function(i,s){var e,n,t,r,o,a;for(e=!0,t="",a=i.sort(function(t,r){return t.format.slot-r.format.slot}),r=0,o=a.length;o>r;r++)n=a[r],l||(t+=e&&s?" ":n.format.pre),t+=n.value(),l=!1,e=!1;return t})(s)},a.prototype._trueStart=function(){return this.allDay?this.start.clone().startOf("day"):this.start.clone()},a.prototype._trueEnd=function(t){return null==t&&(t=!1),this.allDay?t?this.end.clone().add(1,"day"):this.end.clone().endOf("day"):this.end.clone()},a.prototype._iterateHelper=function(e,t,r){return{next:function(){var n;return r()?(n=t.clone(),t.add(1,e),n):null},hasNext:r}},a.prototype._inner=function(t){var r,e;return null==t&&(t="milliseconds"),e=this._trueStart(),r=this._trueEnd(!0),e>e.clone().startOf(t)&&e.startOf(t).add(1,t),r<r.clone().endOf(t)&&r.startOf(t),[e,r]},a.prototype._lazyLang=function(){var u,e,t,i,s;if(t=this.start.lang(),null!=t&&this.end.lang()._abbr!==t._abbr&&this.end.lang(t._abbr),null==this.langData||this.langData._abbr!==t._abbr){if(r&&(i=t._abbr,!(n.call(o,i)>=0))){try{e=require("./lang/"+t._abbr),e(a)}catch(l){u=l}o.push(t._abbr)}return this.langData=null!=(s=null!=t?t._twix:void 0)?s:a.defaults}},a.prototype._formatFn=function(t,r){return this.langData[t].fn(r)},a.prototype._formatSlot=function(t){return this.langData[t].slot},a.prototype._formatPre=function(t,r){return"function"==typeof this.langData[t].pre?this.langData[t].pre(r):this.langData[t].pre},a.prototype._deprecate=function(r,e,t){return t.apply(this)},a.prototype.sameDay=function(){return this._deprecate("sameDay","isSame('day')",function(){return this.isSame("day")})},a.prototype.sameYear=function(){return this._deprecate("sameYear","isSame('year')",function(){return this.isSame("year")})},a.prototype.countDays=function(){return this._deprecate("countDays","countOuter('days')",function(){return this.countOuter("days")})},a.prototype.daysIn=function(t){return this._deprecate("daysIn","iterate('days' [,minHours])",function(){return this.iterate("days",t)})},a.prototype.past=function(){return this._deprecate("past","isPast()",function(){return this.isPast()})},a.prototype.duration=function(){return this._deprecate("duration","humanizeLength()",function(){return this.humanizeLength()})},a.prototype.merge=function(t){return this._deprecate("merge","union(other)",function(){return this.union(t)})},a}(),i=function(t){return"function"==typeof Object.getPrototypeOf?Object.getPrototypeOf(t):"".__proto__===String.prototype?t.__proto__:t.constructor.prototype},a._extend(i(t.fn._lang),{_twix:a.defaults}),t.twix=function(){return function(r,a,e){e.prototype=r.prototype;var n=new e,t=r.apply(n,a);return Object(t)===t?t:n}(a,arguments,function(){})},t.fn.twix=function(){return function(r,a,e){e.prototype=r.prototype;var n=new e,t=r.apply(n,a);return Object(t)===t?t:n}(a,[this].concat(e.call(arguments)),function(){})},t.fn.forDuration=function(t,r){return new a(this,this.clone().add(t),r)},t.duration.fn.afterMoment=function(r,e){return new a(r,t(r).clone().add(this),e)},t.duration.fn.beforeMoment=function(r,e){return new a(t(r).clone().subtract(this),r,e)},a},r&&(module.exports=t(require("moment"))),"function"==typeof define&&define("twix",["moment"],function(r){return t(r)}),null!=this.moment&&(this.Twix=t(this.moment))}).call(this);